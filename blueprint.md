# Star-Diviner 應用程式藍圖

## 專案總覽

Star-Diviner 是一款複合式的行動應用程式，旨在提供使用者一個探索自我、尋求指引和娛樂的數位平台。它整合了多種流行的命理和心理學工具，包括心理測驗、占星術、塔羅牌解讀和每日星座運勢。本應用程式使用 Flutter 和 Firebase 進行開發，具備現代化的使用者介面和可擴展的後端架構。

## 現有功能

根據專案的初始結構，目前已實現以下核心功能：

*   **多功能導航**：
    *   採用 `StatefulShellRoute` 實現了一個帶有底部導航欄的主介面，讓使用者可以在不同的主要功能區塊之間無縫切換。

*   **首頁 (`/home`)**：
    *   作為應用的主要入口點，展示應用的核心功能入口。

*   **心理測驗 (`/quiz`)**：
    *   提供一個測驗列表畫面 (`QuizScreen`)。
    *   使用者完成測驗後，可以跳轉到結果頁面 (`QuizResultScreen`) 查看分析。
    *   測驗資料透過 Firestore (`psychology_tests` 集合) 進行管理，並在 App 首次啟動時自動上傳種子資料。

*   **占星術 (`/astrology`)**：
    *   提供一個占星功能主畫面 (`AstrologyScreen`)。
    *   使用者可以查看占星結果 (`AstrologyResultScreen`)。

*   **塔羅牌 (`/tarot`)**：
    *   提供一個塔羅牌功能主畫面 (`TarotScreen`)。
    *   支援兩種牌陣：單張牌 (`/single`) 和三張牌 (`/three-card`) 牌陣。
    *   提供對應的塔羅牌結果解讀頁面 (`TarotResultScreen`)。

*   **星座運勢 (`/horoscope`)**：
    *   提供一個星座運勢主畫面 (`HoroscopeScreen`)。
    *   使用者可以點擊查看特定星座的詳細運勢 (`HoroscopeDetailScreen`)。

*   **主題與樣式**：
    *   應用程式已整合 `google_fonts` 來提供更豐富的字體樣式。
    *   設定了基於 `Colors.deepPurple` 的種子顏色，並同時支援淺色 (`lightTheme`) 和深色 (`darkTheme`) 模式。
    *   目前主題模式預設為跟隨系統設定 (`ThemeMode.system`)。

## 下一步計畫 (v1.0)

為了提升使用者體驗和豐富應用功能，我們將執行以下計畫：

1.  **使用者介面 (UI) 與使用者體驗 (UX) 增強**：
    *   **主題切換功能**：在首頁或設定頁面新增一個讓使用者可以手動切換淺色、深色和系統模式的按鈕。
    *   **美化主畫面**：重新設計 `HomeScreen`，使其更具視覺吸引力，例如使用卡片式佈局、漸層背景和更精緻的圖示。
    *   **加入動畫效果**：為頁面切換和元件載入加入細微的動畫（例如淡入淡出、滑動），提升應用的流暢度和現代感。
    *   **統一風格**：審視所有功能頁面，確保顏色、字體和間距風格統一，符合 Material 3 設計原則。

2.  **新功能開發：AI 每日一句**
    *   在首頁頂部新增一個區塊，每天使用生成式 AI (Gemini) 產生一句勵志或啟發性的話語。
    *   整合 `firebase_ai` 套件。
    *   設計一個優雅的 UI 來展示這句每日引言。

3.  **程式碼重構與品質提升**：
    *   **狀態管理**：引入 `provider` 來管理全域狀態，例如主題模式的狀態。
    *   **錯誤處理**：在非同步操作（特別是 Firebase 互動）中加入更完善的 `try-catch` 錯誤處理和日誌記錄。
